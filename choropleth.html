<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="./chart.css">
</head>

<body>
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>
    <div id="container">
        <div id="title">Monthly Global Land-Surface Temperature</div>
        <div id="description">1753 - 2015: base temperature 8.66â„ƒ</div>
        <div id="chart"></div>
        <div id="tooltip">This is tooltip</div>
    </div>
    <script>
        const height = 760
        const width = 1000
        const padding = { top: 60, left: 60, right: 60, bottom: 150 }

        const chart = d3.select("body").select("#container").select("#chart")
        const tooltip = d3.select("body").select("#tooltip")

        const dataUrl = "https://cdn.freecodecamp.org/testable-projects-fcc/data/choropleth_map/counties.json"

        window.onload = () => {
            fetch(dataUrl)
                .then(response => response.json())
                .then(data => {
                    initChart(data)
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }

        const initChart = (data) => {
            const path = d3.geoPath()

            const svg = d3.select("body").append("svg").attr("width", width).attr("height", height)
            debugger
            svg.append('g')
                .attr('class', 'counties')
                .selectAll('path')
                .data(topojson.feature(data, data.objects.counties).features)
                .enter()
                .append('path')
                .attr("fill", "navy")
                .attr('d', path)
        }
    </script>
</body>

</html>